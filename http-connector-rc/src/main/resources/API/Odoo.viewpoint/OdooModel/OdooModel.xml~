<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="0" modelVersion="1.0" version="0.1" name="OdooModel" userID="FLX" flexoID="2">
  <FlexoConcept id="1" parentFlexoConceptsList="http://openflexo.org/http/resources/API/Odoo.viewpoint/OdooModel#OdooObject" name="Version" isAbstract="true" userID="FLX" flexoID="16">
    <AbstractProperty id="2" type="java.lang.Integer" name="protocol_version" userID="FLX" flexoID="34" />
    <AbstractProperty id="3" type="java.lang.String" name="server_serie" userID="FLX" flexoID="35" />
    <AbstractProperty id="4" type="java.lang.String" name="server_version" userID="FLX" flexoID="36" />
    <DeletionScheme id="5" name="delete" width="800" label="delete" height="600" userID="FLX" flexoID="146">
      <BehaviourControlGraph_EmptyControlGraph id="6" userID="FLX" flexoID="145" />
    </DeletionScheme>
    <Inspector id="7" inspectorTitle="Version" userID="FLX" flexoID="11">
      <GenericInspectorEntry id="8" widget="TEXT_FIELD" data="protocol_version" name="protocol_version" label="protocol_version" type="java.lang.String" userID="FLX" flexoID="38" />
      <GenericInspectorEntry id="9" widget="TEXT_FIELD" data="server_serie" name="server_serie" label="server_serie" type="java.lang.String" userID="FLX" flexoID="39" />
      <GenericInspectorEntry id="10" widget="TEXT_FIELD" data="server_version" name="server_version" label="server_version" type="java.lang.String" userID="FLX" flexoID="40" />
      <GenericInspectorEntry id="11" widget="TEXT_FIELD" data="server_version_info" name="server_version_info" label="server_version_info" type="java.lang.String" userID="FLX" flexoID="41" />
    </Inspector>
  </FlexoConcept>
  <FlexoConcept id="12" parentFlexoConceptsList="http://openflexo.org/http/resources/API/Odoo.viewpoint/OdooModel#OdooObject" name="ResPartner" isAbstract="true" userID="FLX" flexoID="151">
    <AbstractProperty id="13" type="java.lang.String" name="name" userID="FLX" flexoID="154" />
    <AbstractProperty id="14" type="java.lang.String" name="siren" userID="FLX" flexoID="155" />
    <AbstractProperty id="15" type="java.lang.String" name="comment" userID="FLX" flexoID="156" />
    <Inspector id="16" inspectorTitle="ResPartner" userID="FLX" flexoID="150">
      <GenericInspectorEntry id="17" widget="TEXT_FIELD" data="name" name="name" label="name" type="java.lang.String" userID="FLX" flexoID="157" />
      <GenericInspectorEntry id="18" widget="TEXT_FIELD" data="siren" name="siren" label="siren" type="java.lang.String" userID="FLX" flexoID="158" />
      <GenericInspectorEntry id="19" widget="TEXT_FIELD" data="comment" name="comment" label="comment" type="java.lang.String" userID="FLX" flexoID="159" />
    </Inspector>
  </FlexoConcept>
  <FlexoConcept id="20" name="OdooObject" userID="FLX" flexoID="161">
    <PrimitiveRole id="21" primitiveType="Integer" cloningStrategy="Clone" cardinality="ZeroOne" name="id" userID="FLX" description="The unique and unmutable id of object" flexoID="166" />
    <Inspector id="22" inspectorTitle="OdooObject" userID="FLX" flexoID="160">
      <GenericInspectorEntry id="23" widget="INTEGER" data="id" name="id" label="id" type="java.lang.Integer" userID="FLX" description="The unique and unmutable id of object" flexoID="167" />
    </Inspector>
  </FlexoConcept>
  <UseModelSlotDeclaration id="24" modelSlotClass="org.openflexo.http.connector.fml.xmlrpc.XmlRpcModelSlot" userID="FLX" flexoID="-1" />
  <UseModelSlotDeclaration id="25" modelSlotClass="org.openflexo.http.connector.fml.rest.RestModelSlot" userID="FLX" flexoID="-1" />
  <FlexoConceptInstanceRole id="26" virtualModelInstance="virtualModelInstance" flexoConceptTypeURI="http://openflexo.org/http/resources/API/Odoo.viewpoint/OdooModel#Version" cloningStrategy="Reference" cardinality="ZeroOne" name="version" userID="FLX" flexoID="58" />
  <XmlRpcModelSlot id="27" creationSchemeURI="http://openflexo.org/http/resources/API/Odoo.viewpoint/OdooModel.init" format="map" accessedVirtualModelURI="http://openflexo.org/http/resources/API/Odoo.viewpoint/OdooModel" isRequired="true" cloningStrategy="Reference" cardinality="ZeroOne" name="accessPoint" userID="FLX" flexoID="75">
    <CreateAccessPointParameter id="28" paramName="database" value="&quot;coucou&quot;" userID="FLX" flexoID="127" />
  </XmlRpcModelSlot>
  <PrimitiveRole id="29" primitiveType="Integer" cloningStrategy="Clone" cardinality="ZeroOne" name="uid" userID="FLX" flexoID="144" />
  <GetSetProperty id="30" name="partners" userID="FLX" flexoID="199">
    <SetControlGraph_EmptyControlGraph id="31" ownerContext="setControlGraph" userID="FLX" flexoID="200" />
    <GetControlGraph_ReturnStatement id="32" ownerContext="getControlGraph" userID="FLX" flexoID="203">
      <AssignableAction_SelectFlexoConceptInstance id="33" flexoConceptTypeURI="http://openflexo.org/http/resources/API/Odoo.viewpoint/OdooModel#ResPartner" receiver="virtualModelInstance" userID="FLX" flexoID="202" />
    </GetControlGraph_ReturnStatement>
  </GetSetProperty>
  <ActionScheme id="34" name="retrieveVersion" width="800" label="retrieveVersion" height="600" userID="FLX" flexoID="68">
    <BehaviourControlGraph_ReturnStatement id="35" userID="FLX" flexoID="123">
      <AssignableAction_PerformXmlRpcRequest id="36" methodName="version" endPointName="xmlrpc/common" type="org.openflexo.foundation.fml.FlexoConceptInstanceType&lt;http://openflexo.org/http/resources/API/Odoo.viewpoint/OdooModel#Version&gt;" receiver="accessPoint" userID="FLX" flexoID="74" />
    </BehaviourControlGraph_ReturnStatement>
  </ActionScheme>
  <HttpVirtualModelInitializer id="37" name="init" width="800" label="init" height="600" userID="FLX" flexoID="98">
    <BehaviourControlGraph_Sequence id="38" userID="FLX" flexoID="112">
      <ControlGraph2_Sequence id="39" ownerContext="controlGraph2" userID="FLX" flexoID="111">
        <ControlGraph2_Sequence id="40" ownerContext="controlGraph2" userID="FLX" flexoID="110">
          <ControlGraph2_Sequence id="41" ownerContext="controlGraph2" userID="FLX" flexoID="142">
            <ControlGraph2_ExpressionAction id="42" expression="virtualModelInstance.authenticate(parameters.database,accessPoint.user,accessPoint.password)" ownerContext="controlGraph2" userID="FLX" description="" flexoID="141" />
            <ControlGraph1_LogAction id="43" logLevel="INFO" logString="(&quot;version=&quot; + version)" ownerContext="controlGraph1" userID="FLX" flexoID="109" />
          </ControlGraph2_Sequence>
          <ControlGraph1_AssignationAction id="44" assign="version" ownerContext="controlGraph1" userID="FLX" flexoID="107">
            <AssignableAction_ExpressionAction id="45" expression="virtualModelInstance.retrieveVersion()" userID="FLX" flexoID="108" />
          </ControlGraph1_AssignationAction>
        </ControlGraph2_Sequence>
        <ControlGraph1_AssignationAction id="46" assign="accessPoint" ownerContext="controlGraph1" userID="FLX" flexoID="106">
          <AssignableAction_ExpressionAction id="47" expression="initializingAccessPoint" userID="FLX" flexoID="105" />
        </ControlGraph1_AssignationAction>
      </ControlGraph2_Sequence>
      <ControlGraph1_LogAction id="48" logLevel="INFO" logString="(((&quot;Initializing &quot; + initializingAccessPoint) + &quot; with &quot;) + parameters.database)" ownerContext="controlGraph1" userID="FLX" flexoID="101" />
    </BehaviourControlGraph_Sequence>
    <GenericBehaviourParameter id="49" widget="CUSTOM_WIDGET" name="database" type="java.lang.String" userID="FLX" flexoID="118" />
  </HttpVirtualModelInitializer>
  <ActionScheme id="50" name="authenticate" width="800" label="authenticate" height="600" userID="FLX" flexoID="131">
    <BehaviourControlGraph_AssignationAction id="51" assign="uid" userID="FLX" flexoID="143">
      <AssignableAction_PerformXmlRpcRequest id="52" methodName="authenticate" endPointName="xmlrpc/common" type="java.lang.Integer" receiver="accessPoint" userID="FLX" flexoID="134">
        <XmlRpcParameter id="53" name="db" value="parameters.database" userID="FLX" flexoID="-1" />
        <XmlRpcParameter id="54" name="username" value="parameters.username" userID="FLX" flexoID="-1" />
        <XmlRpcParameter id="55" name="password" value="parameters.password" userID="FLX" flexoID="-1" />
        <XmlRpcParameter id="56" name="map" userID="FLX" flexoID="-1" />
      </AssignableAction_PerformXmlRpcRequest>
    </BehaviourControlGraph_AssignationAction>
    <GenericBehaviourParameter id="57" isRequired="true" widget="TEXT_FIELD" name="database" type="java.lang.String" userID="FLX" flexoID="135" />
    <GenericBehaviourParameter id="58" isRequired="true" widget="TEXT_FIELD" name="username" type="java.lang.String" userID="FLX" flexoID="136" />
    <GenericBehaviourParameter id="59" isRequired="true" widget="TEXT_FIELD" name="password" type="java.lang.String" userID="FLX" flexoID="137" />
  </ActionScheme>
  <ActionScheme id="60" visibility="Public" name="retrieveResPartners" width="800" label="retrieveResPartners" height="600" userID="FLX" flexoID="168">
    <BehaviourControlGraph_Sequence id="61" userID="FLX" flexoID="195">
      <ControlGraph2_Sequence id="62" ownerContext="controlGraph2" userID="FLX" flexoID="194">
        <ControlGraph2_Sequence id="63" ownerContext="controlGraph2" userID="FLX" flexoID="193">
          <ControlGraph2_Sequence id="64" ownerContext="controlGraph2" userID="FLX" flexoID="192">
            <ControlGraph2_Sequence id="65" ownerContext="controlGraph2" userID="FLX" flexoID="191">
              <ControlGraph2_Sequence id="66" ownerContext="controlGraph2" userID="FLX" flexoID="190">
                <ControlGraph2_Sequence id="67" ownerContext="controlGraph2" userID="FLX" flexoID="189">
                  <ControlGraph2_Sequence id="68" ownerContext="controlGraph2" userID="FLX" flexoID="188">
                    <ControlGraph2_Sequence id="69" ownerContext="controlGraph2" userID="FLX" flexoID="187">
                      <ControlGraph2_Sequence id="70" ownerContext="controlGraph2" userID="FLX" flexoID="206">
                        <ControlGraph2_NotifyPropertyChangedAction id="71" propertyName="partners" object="virtualModelInstance" ownerContext="controlGraph2" userID="FLX" flexoID="205" />
                        <ControlGraph1_PerformXmlRpcRequest id="72" methodName="execute_kw" endPointName="xmlrpc/2/object" type="org.openflexo.foundation.fml.FlexoConceptInstanceType&lt;http://openflexo.org/http/resources/API/Odoo.viewpoint/OdooModel#ResPartner&gt;" receiver="accessPoint" ownerContext="controlGraph1" userID="FLX" flexoID="186">
                          <XmlRpcParameter id="73" name="db" value="&quot;dynalec_openflexo&quot;" userID="FLX" flexoID="-1" />
                          <XmlRpcParameter id="74" name="uid" value="uid" userID="FLX" flexoID="-1" />
                          <XmlRpcParameter id="75" name="passwd" value="accessPoint.password" userID="FLX" flexoID="-1" />
                          <XmlRpcParameter id="76" name="concept_name" value="&quot;res.partner&quot;" userID="FLX" flexoID="-1" />
                          <XmlRpcParameter id="77" name="method_name" value="&quot;search_read&quot;" userID="FLX" flexoID="-1" />
                          <XmlRpcParameter id="78" name="request_conditions" value="requestConditions" userID="FLX" flexoID="-1" />
                          <XmlRpcParameter id="79" name="request_parameters" value="requestParameters" userID="FLX" flexoID="-1" />
                        </ControlGraph1_PerformXmlRpcRequest>
                      </ControlGraph2_Sequence>
                      <ControlGraph1_DeclarationAction id="80" variable="requestConditions" ownerContext="controlGraph1" userID="FLX" flexoID="184">
                        <AssignableAction_AddClassInstance id="81" type="java.util.ArrayList&lt;java.lang.Object&gt;" userID="FLX" flexoID="183" />
                      </ControlGraph1_DeclarationAction>
                    </ControlGraph2_Sequence>
                    <ControlGraph1_ExpressionAction id="82" expression="requestParameters.put(&quot;fields&quot;,fieldsList)" ownerContext="controlGraph1" userID="FLX" flexoID="181" />
                  </ControlGraph2_Sequence>
                  <ControlGraph1_ExpressionAction id="83" expression="fieldsList.add(&quot;comment&quot;)" ownerContext="controlGraph1" userID="FLX" flexoID="180" />
                </ControlGraph2_Sequence>
                <ControlGraph1_ExpressionAction id="84" expression="fieldsList.add(&quot;siren&quot;)" ownerContext="controlGraph1" userID="FLX" flexoID="179" />
              </ControlGraph2_Sequence>
              <ControlGraph1_ExpressionAction id="85" expression="fieldsList.add(&quot;name&quot;)" ownerContext="controlGraph1" userID="FLX" flexoID="178" />
            </ControlGraph2_Sequence>
            <ControlGraph1_DeclarationAction id="86" variable="fieldsList" ownerContext="controlGraph1" userID="FLX" flexoID="177">
              <AssignableAction_AddClassInstance id="87" type="java.util.ArrayList&lt;java.lang.Object&gt;" userID="FLX" flexoID="176" />
            </ControlGraph1_DeclarationAction>
          </ControlGraph2_Sequence>
          <ControlGraph1_ExpressionAction id="88" expression="requestParameters.put(&quot;offset&quot;,20)" ownerContext="controlGraph1" userID="FLX" flexoID="174" />
        </ControlGraph2_Sequence>
        <ControlGraph1_ExpressionAction id="89" expression="requestParameters.put(&quot;limit&quot;,10)" ownerContext="controlGraph1" userID="FLX" flexoID="173" />
      </ControlGraph2_Sequence>
      <ControlGraph1_DeclarationAction id="90" variable="requestParameters" ownerContext="controlGraph1" userID="FLX" flexoID="172">
        <AssignableAction_AddClassInstance id="91" type="java.util.HashMap&lt;java.lang.Object,java.lang.Object&gt;" userID="FLX" flexoID="171" />
      </ControlGraph1_DeclarationAction>
    </BehaviourControlGraph_Sequence>
  </ActionScheme>
  <ActionScheme id="92" name="retrieveInstances" width="800" label="retrieveInstances" height="600" userID="FLX" description="Retrieve some instances of a given concept" flexoID="210">
    <BehaviourControlGraph_Sequence id="93" userID="FLX" flexoID="234">
      <ControlGraph2_Sequence id="94" ownerContext="controlGraph2" userID="FLX" flexoID="231">
        <ControlGraph2_Sequence id="95" ownerContext="controlGraph2" userID="FLX" flexoID="229">
          <ControlGraph2_Sequence id="96" ownerContext="controlGraph2" userID="FLX" flexoID="227">
            <ControlGraph2_Sequence id="97" ownerContext="controlGraph2" userID="FLX" flexoID="243">
              <ControlGraph2_Sequence id="98" ownerContext="controlGraph2" userID="FLX" flexoID="218">
                <ControlGraph2_Sequence id="99" ownerContext="controlGraph2" userID="FLX" flexoID="216">
                  <ControlGraph2_PerformXmlRpcRequest id="100" methodName="execute_kw" endPointName="xmlrpc/2/object" type="org.openflexo.foundation.fml.FlexoConceptInstanceType&lt;http://openflexo.org/http/resources/API/Odoo.viewpoint/OdooModel#ResPartner&gt;" receiver="accessPoint" ownerContext="controlGraph2" userID="FLX" flexoID="212">
                    <XmlRpcParameter idref="73" />
                    <XmlRpcParameter idref="74" />
                    <XmlRpcParameter idref="75" />
                    <XmlRpcParameter idref="76" />
                    <XmlRpcParameter idref="77" />
                    <XmlRpcParameter idref="78" />
                    <XmlRpcParameter idref="79" />
                  </ControlGraph2_PerformXmlRpcRequest>
                  <ControlGraph1_DeclarationAction id="101" variable="requestConditions" ownerContext="controlGraph1" userID="FLX" flexoID="215">
                    <AssignableAction_AddClassInstance id="102" type="java.util.ArrayList&lt;java.lang.Object&gt;" userID="FLX" flexoID="214" />
                  </ControlGraph1_DeclarationAction>
                </ControlGraph2_Sequence>
                <ControlGraph1_ExpressionAction id="103" expression="requestParameters.put(&quot;fields&quot;,fieldsList)" ownerContext="controlGraph1" userID="FLX" flexoID="217" />
              </ControlGraph2_Sequence>
              <ControlGraph1_IterationAction id="104" iteratorName="property" ownerContext="controlGraph1" userID="FLX" flexoID="239">
                <Iteration_ExpressionAction id="105" expression="parameters.concept.accessibleAbstractProperties" ownerContext="iterationControlGraph" userID="FLX" flexoID="241" />
                <ControlGraph_ExpressionAction id="106" expression="fieldsList.add(property.name)" ownerContext="controlGraph" userID="FLX" flexoID="248" />
              </ControlGraph1_IterationAction>
            </ControlGraph2_Sequence>
            <ControlGraph1_DeclarationAction id="107" variable="fieldsList" ownerContext="controlGraph1" userID="FLX" flexoID="226">
              <AssignableAction_AddClassInstance id="108" type="java.util.ArrayList&lt;java.lang.Object&gt;" userID="FLX" flexoID="225" />
            </ControlGraph1_DeclarationAction>
          </ControlGraph2_Sequence>
          <ControlGraph1_ExpressionAction id="109" expression="requestParameters.put(&quot;offset&quot;,parameters.offset)" ownerContext="controlGraph1" userID="FLX" flexoID="228" />
        </ControlGraph2_Sequence>
        <ControlGraph1_ExpressionAction id="110" expression="requestParameters.put(&quot;limit&quot;,parameters.limit)" ownerContext="controlGraph1" userID="FLX" flexoID="230" />
      </ControlGraph2_Sequence>
      <ControlGraph1_DeclarationAction id="111" variable="requestParameters" ownerContext="controlGraph1" userID="FLX" flexoID="233">
        <AssignableAction_AddClassInstance id="112" type="java.util.HashMap&lt;java.lang.Object,java.lang.Object&gt;" userID="FLX" flexoID="232" />
      </ControlGraph1_DeclarationAction>
    </BehaviourControlGraph_Sequence>
    <GenericBehaviourParameter id="113" widget="CUSTOM_WIDGET" name="concept" type="org.openflexo.foundation.fml.FlexoConcept" userID="FLX" description="Type of concept to return" flexoID="235" />
    <GenericBehaviourParameter id="114" widget="INTEGER" name="limit" type="java.lang.Integer" userID="FLX" description="The size of the set beeing requested" flexoID="237" />
    <GenericBehaviourParameter id="115" widget="INTEGER" name="offset" type="java.lang.Integer" userID="FLX" description="Index of first instance for the set to be requested&#xA;" flexoID="236" />
  </ActionScheme>
  <ActionScheme id="116" name="retrieveResPartners2" width="800" label="retrieveResPartners2" height="600" userID="FLX" flexoID="249">
    <BehaviourControlGraph_Sequence id="117" userID="FLX" flexoID="256">
      <ControlGraph2_Sequence id="118" ownerContext="controlGraph2" userID="FLX" flexoID="255">
        <ControlGraph2_NotifyPropertyChangedAction id="119" propertyName="partners" object="virtualModelInstance" ownerContext="controlGraph2" userID="FLX" flexoID="254" />
        <ControlGraph1_ExpressionAction id="120" expression="virtualModelInstance.retrieveInstances(resPartnerConcept,30,0)" ownerContext="controlGraph1" userID="FLX" flexoID="253" />
      </ControlGraph2_Sequence>
      <ControlGraph1_DeclarationAction id="121" variable="resPartnerConcept" ownerContext="controlGraph1" userID="FLX" flexoID="252">
        <AssignableAction_ExpressionAction id="122" expression="virtualModelInstance.virtualModelDefinition.getFlexoConcept(&quot;ResPartner&quot;)" userID="FLX" flexoID="251" />
      </ControlGraph1_DeclarationAction>
    </BehaviourControlGraph_Sequence>
  </ActionScheme>
  <Inspector id="123" inspectorTitle="OdooModel" userID="FLX" flexoID="1" />
</VirtualModel>
